<div class="fc">
    <form
        action="/download"
        method="post"
        target="_blank"
    >
        <input
            type="hidden"
            name="q"
            value="{{ .Fish.RawEscaped }}"
        >
        <button type="submit">
            Download
        </button>
    </form>

    {{- if .Fish.HasErr }}
    <details
        open
        style="color: red;"
    >
        <summary>Errors</summary>
        <div class="scroll-box">
            <pre>
{{- range $index, $sch := .Fish.Schemas }}
{{- range $index, $ent := $sch.Entities }}
{{- range $index, $attr := $ent.RawAttributes }}
{{- range $index, $err := $attr.Err }}
{{ $sch.Name }}/{{ $ent.Name }}/{{ $attr.Name }}: {{ $err }}
{{- end }}
{{- end }}
{{- end }}
{{- end }}
        </pre>

        </div>
    </details>
    {{- end }}

    <h3>Postgres</h3>

    {{ range $k, $v := .Fish.PgGen }}
    <details>
        <summary> {{ $k.Full }} </summary>
        <div class="scroll-box">
            <pre>{{- $v }}</pre>
        </div>
    </details>
    {{ end }}

    <h3>Go</h3>

    {{ range $k, $v := .Fish.GoGen }}
    <details>
        <summary> {{ $k.Full }} </summary>
        <div class="scroll-box">
            <pre>{{- $v }}</pre>
        </div>
    </details>
    {{ end }}
</div>